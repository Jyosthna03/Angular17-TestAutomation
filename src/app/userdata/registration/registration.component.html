<div class="container">
  <div class="row">
    <div class="col-md-5 ps-3">
      <h2 class="text-center mt-3">Welcome!</h2>
      <form #formElement [formGroup]="registrationForm" (ngSubmit)="onSubmit(registrationForm.value)">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="firstName">First Name<span class="text-danger">*</span></label>
              <input type="text" id="firstName" class="form-control" formControlName="firstName" placeholder="FirstName" minlength="3" maxlength="10"/>
              @if (registrationForm.get('firstName')?.hasError('required') && registrationForm.get('firstName')?.touched) {
              <p class="text-danger error-txt">First Name is required.</p>
              } @if (registrationForm.get('firstName')?.hasError('pattern') || registrationForm.get('firstName')?.hasError('minlength')) {
              <p class="text-danger error-txt">
                First Name must be alphabetic and altleast 3 characters.
              </p>
              }
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="lastName">Last Name<span class="text-danger">*</span></label>
              <input type="text" id="lastName" class="form-control" formControlName="lastName" placeholder="LastName" minlength="3" maxlength="10"/>
              @if (registrationForm.get('lastName')?.hasError('required') && registrationForm.get('lastName')?.touched) {
              <p class="text-danger error-txt">Last Name is required.</p>
              } @if (registrationForm.get('lastName')?.hasError('pattern') || registrationForm.get('lastName')?.hasError('minlength')) {
              <p class="text-danger error-txt">
                Last Name must be alphabetic and atleast 3 characters.
              </p>
              }
            </div>
          </div>
        </div>
        <div class="form-group mt-3">
          <label for="email">Email ID<span class="text-danger">*</span></label>
          <input type="email" id="email" class="form-control" formControlName="email" placeholder="Email"/>
          @if (registrationForm.get('email')?.hasError('required') && registrationForm.get('email')?.touched) {
          <p class="text-danger error-txt">Email is required.</p>
          } @if (registrationForm.get('email')?.hasError('pattern')) {
          <p class="text-danger error-txt">Invalid Email Format</p>
          }
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group mt-3">
              <label for="phoneNumber">Phone Number<span class="text-danger">*</span></label>
              <input type="text" id="phoneNumber" class="form-control" formControlName="phoneNumber" placeholder="PhoneNumber" maxlength="10" (keypress)="onKeyPress($event)"/>
              @if (registrationForm.get('phoneNumber')?.hasError('required') && registrationForm.get('phoneNumber')?.touched) {
              <p class="text-danger error-txt">Phone number is required.</p>
              } @if (registrationForm.get('phoneNumber')?.hasError('pattern') || registrationForm.get('phoneNumber')?.hasError('minlength')) {
              <p class="text-danger error-txt">Enter valid phone number</p>
              }
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group mt-3">
              <label for="dob">Date of Birth<span class="text-danger">*</span></label>
              <input type="date" id="dob" class="form-control" formControlName="dob" placeholder="Date of Birth" [max]="maxDate"/>
              @if (registrationForm.get('dob')?.hasError('required') && registrationForm.get('dob')?.touched) {
              <p class="text-danger">Date of Birth is required</p>
              }
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-6">
            <div class="form-group">
              <label for="country">Country:</label>
              <select id="country" class="form-select" formControlName="country">
                @for (country of countries; track country){
                <option [value]="country">{{ country }}</option>
                }
              </select>
              @if (registrationForm.get('country')?.hasError('required') && registrationForm.get('country')?.touched) {
              <p class="text-danger">Please select a country</p>
              }
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="state">State:</label>
              <select id="state" class="form-select" formControlName="state">
                @for (state of states; track state){
                <option [value]="state">{{ state }}</option>
                }
              </select>
            </div>
            @if (registrationForm.get('state')?.hasError('required') && registrationForm.get('state')?.touched) {
            <p class="text-danger">Please select a state</p>
            }
          </div>
        </div>
        <div class="form-group mt-3">
          <label for="address">Address<span class="text-danger">*</span></label>
          <input type="text" id="address" class="form-control" formControlName="address"/>
          @if (registrationForm.get('address')?.hasError('required') && registrationForm.get('address')?.touched) {
          <p class="text-danger">Address is required</p>
          } @if (registrationForm.get('address')?.hasError('pattern')) {
          <p class="text-danger">Enter Valid Address</p>
          }
        </div>
        <div class="row mt-3">
          <div class="col-md-6">
            <div class="form-group">
              <label for="password" class="form-label">Password<span class="text-danger">*</span></label>
              <input type="password" class="form-control" id="password" formControlName="password" placeholder="Password" aria-autocomplete="list"/>
              @if (registrationForm.get('password')?.hasError('required') && registrationForm.get('password')?.touched) {
              <p class="text-danger">Password is required</p>
              } @if (registrationForm.get('password')?.hasError('pattern')) {
              <p class="text-danger">
                Password must be at least 8 characters long and contain at least
                one letter and one number.
              </p>
              }
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="confirmPassword" class="form-label">Confirm Password<span class="text-danger">*</span></label>
              <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword" placeholder="ConfirmPassword" aria-autocomplete="list"/>
              @if (registrationForm.hasError('mismatch')) {
              <p class="text-danger">Passwords do not match.</p>
              } @if(registrationForm.get('confirmPassword')?.hasError('required') && registrationForm.get('confirmPassword')?.touched) {
              <p class="text-danger">Confirmation password is required.</p>
              }
            </div>
          </div>
        </div>
        <div class="d-grid gap-2 mt-3">
          <button type="submit" class="btn btn-primary" [disabled]="registrationForm.invalid"> Submit </button>
        </div>
        <div class="text-center mt-4 mb-4">
          <span>Already had an account?<a aria-current="page" routerLink="/login" id="login">Login Here</a></span>
        </div>
      </form>
    </div>
    <div class="col-md-7 ps-4">
      <img class="d-none d-sm-block reg-image" [src]="imagePath" alt="Description"/>
    </div>
  </div>
</div>
