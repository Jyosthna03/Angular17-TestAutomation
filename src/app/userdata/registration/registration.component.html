<div class="container-fluid">
  <div class="row">
    <div class="col-md-5 left-content">
      <!-- @if(validUser){
        <p class=" vaidUser text-center">{{regData}}</p>
      } -->
      <h2 class="welcome-text">Welcome.!</h2>
      <form #formElement [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="firstName" class="lable-name">First Name<span class="text-danger">*</span></label>
              <input type="text" id="firstName" class="form-control mt-1" formControlName="firstName" placeholder="FirstName" minlength="3" maxlength="10"/>
              @if (registrationForm.get('firstName')?.hasError('required') && registrationForm.get('firstName')?.touched) {
              <p class="error-text">First Name is required.</p>
              } @if (registrationForm.get('firstName')?.hasError('pattern') || registrationForm.get('firstName')?.hasError('minlength')) {
              <p class="error-text">First Name must be alphabetic and altleast 3 characters.</p>
              }
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="lastName" class="lable-name">Last Name<span class="text-danger">*</span></label>
              <input type="text" id="lastName" class="form-control mt-1" formControlName="lastName" placeholder="LastName" minlength="3" maxlength="10"/>
              @if (registrationForm.get('lastName')?.hasError('required') && registrationForm.get('lastName')?.touched) {
              <p class="error-text">Last Name is required.</p>
              } @if (registrationForm.get('lastName')?.hasError('pattern') || registrationForm.get('lastName')?.hasError('minlength')) {
              <p class="error-text">
                Last Name must be alphabetic and atleast 3 characters.
              </p>
              }
            </div>
          </div>
        </div>
        <div class="form-group mt-3">
          <label for="email" class="lable-name">Email ID<span class="text-danger">*</span></label>
          <input type="email" id="email" class="form-control mt-1" formControlName="email" placeholder="Email"/>
          @if (registrationForm.get('email')?.hasError('required') && registrationForm.get('email')?.touched) {
          <p class="error-text">Email is required.</p>
          } @if (registrationForm.get('email')?.hasError('pattern')) {
          <p class="error-text">Invalid Email Format</p>
          }
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group mt-3">
              <label for="phoneNumber" class="lable-name">Phone Number<span class="text-danger">*</span></label>
              <input type="tel" id="phoneNumber" class="form-control mt-1" formControlName="phoneNumber" placeholder="PhoneNumber" maxlength="10" (keypress)="onKeyPress($event)"/>
              @if (registrationForm.get('phoneNumber')?.hasError('required') && registrationForm.get('phoneNumber')?.touched) {
              <p class="error-text">Phone number is required.</p>
              } @if (registrationForm.get('phoneNumber')?.hasError('pattern') || registrationForm.get('phoneNumber')?.hasError('minlength')) {
              <p class="error-text">Enter valid phone number</p>
              }
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group mt-3">
              <label for="dob" class="lable-name">Date of Birth<span class="text-danger">*</span></label>
              <input type="date" id="dob" class="form-control mt-1" formControlName="dob" placeholder="Date of Birth" [max]="maxDate"/>
              @if (registrationForm.get('dob')?.hasError('required') && registrationForm.get('dob')?.touched) {
              <p class="error-text">Date of Birth is required</p>
              }
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-6">
            <div class="form-group">
              <label for="country" class="lable-name">Country:</label>
              <select id="country" class="form-select mt-1" formControlName="country">
                @for (country of countries; track country){
                <option [value]="country">{{ country }}</option>
                }
              </select>
              @if (registrationForm.get('country')?.hasError('required') && registrationForm.get('country')?.touched) {
              <p class="error-text">Please select a country</p>
              }
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="state" class="lable-name">State:</label>
              <select id="state" class="form-select mt-1" formControlName="state">
                @for (state of states; track state){
                <option [value]="state">{{ state }}</option>
                }
              </select>
            </div>
            @if (registrationForm.get('state')?.hasError('required') && registrationForm.get('state')?.touched) {
            <p class="error-text">Please select a state</p>
            }
          </div>
        </div>
        <div class="form-group mt-3">
          <label for="address" class="lable-name">Address<span class="text-danger">*</span></label>
          <input type="text" id="address" class="form-control mt-1" formControlName="address"/>
          @if (registrationForm.get('address')?.hasError('required') && registrationForm.get('address')?.touched) {
          <p class="error-text">Address is required</p>
          } @if (registrationForm.get('address')?.hasError('pattern')) {
          <p class="error-text">Enter Valid Address</p>
          }
        </div>
        <div class="row mt-3">
          <div class="col-md-6">
            <div class="form-group">
              <label for="password" class="form-label lable-name">Password<span class="text-danger">*</span></label>
              <input type="password" class="form-control mt-1" id="password" formControlName="password" placeholder="Password" aria-autocomplete="list"/>
              @if (registrationForm.get('password')?.hasError('required') && registrationForm.get('password')?.touched) {
              <p class="error-text">Password is required</p>
              } @if (registrationForm.get('password')?.hasError('pattern')) {
              <p class="error-text">
                Password must be at least 8 characters long and contain at least
                one letter and one number.
              </p>
              }
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="confirmPassword" class="form-label lable-name">Confirm Password<span class="text-danger">*</span></label>
              <input type="password" class="form-control mt-1" id="confirmPassword" formControlName="confirmPassword" placeholder="ConfirmPassword" aria-autocomplete="list"/>
              @if (registrationForm.hasError('mismatch')) {
              <p class="error-text">Passwords do not match.</p>
              } @if(registrationForm.get('confirmPassword')?.hasError('required') && registrationForm.get('confirmPassword')?.touched) {
              <p class="error-text">Confirmation password is required.</p>
              }
            </div>
          </div>
        </div>
        <div class="d-grid gap-2 register-btn">
          <button type="submit" class="btn btn-primary" [disabled]="registrationForm.invalid" [ngClass]="{'btn-enabled': !registrationForm.invalid, 'btn-disabled': registrationForm.invalid}"> Register </button>
        </div>
        <div class="text-content">
          <p>Already had an account?<a aria-current="page" class="login-here" routerLink="/login" id="login">Login Here</a></p>
        </div>
      </form>
      <div *ngIf="validUser" class="modal">
        <div class="modal-content">
          <p class="text-center">{{ regData }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-7 ps-4">
      <img class="d-none d-sm-block reg-image" [src]="imagePath" alt="Description"/>
    </div>
  </div>
</div>
